Run python3 invoke/sleep_agent_test.py
  python3 invoke/sleep_agent_test.py
  shell: /usr/bin/bash -e {0}
  env:
    pythonLocation: /opt/hostedtoolcache/Python/3.10.19/x64
    PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.10.19/x64/lib/pkgconfig
    Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.10.19/x64
    Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.10.19/x64
    Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.10.19/x64
    LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.10.19/x64/lib
    AWS_DEFAULT_REGION: us-west-2
    AWS_REGION: us-west-2
    AWS_ACCESS_KEY_ID: ***
    AWS_SECRET_ACCESS_KEY: ***
    AWS_SESSION_TOKEN: ***
2026-01-08 01:32:13,856 - botocore.hooks - DEBUG - Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2026-01-08 01:32:13,860 - botocore.hooks - DEBUG - Changing event name from before-call.apigateway to before-call.api-gateway
2026-01-08 01:32:13,861 - botocore.hooks - DEBUG - Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2026-01-08 01:32:13,863 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2026-01-08 01:32:13,863 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2026-01-08 01:32:13,864 - botocore.hooks - DEBUG - Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2026-01-08 01:32:13,865 - botocore.hooks - DEBUG - Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2026-01-08 01:32:13,868 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2026-01-08 01:32:13,869 - botocore.hooks - DEBUG - Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2026-01-08 01:32:13,869 - botocore.hooks - DEBUG - Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2026-01-08 01:32:13,869 - botocore.hooks - DEBUG - Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2026-01-08 01:32:13,872 - botocore.utils - DEBUG - IMDS ENDPOINT: http://169.254.169.254/
2026-01-08 01:32:13,874 - botocore.credentials - DEBUG - Looking for credentials via: env
2026-01-08 01:32:13,874 - botocore.credentials - INFO - Found credentials in environment variables.
2026-01-08 01:32:13,876 - botocore.loaders - DEBUG - Loading JSON file: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/data/endpoints.json
2026-01-08 01:32:13,894 - botocore.loaders - DEBUG - Loading JSON file: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/data/sdk-default-configuration.json
2026-01-08 01:32:13,894 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fde66c85c60>
2026-01-08 01:32:13,909 - botocore.loaders - DEBUG - Loading JSON file: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/data/bedrock-agentcore/2024-02-28/service-2.json.gz
2026-01-08 01:32:13,928 - botocore.loaders - DEBUG - Loading JSON file: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/data/bedrock-agentcore/2024-02-28/endpoint-rule-set-1.json.gz
2026-01-08 01:32:13,928 - botocore.loaders - DEBUG - Loading JSON file: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/data/partitions.json
2026-01-08 01:32:13,930 - botocore.hooks - DEBUG - Event creating-client-class.bedrock-agentcore: calling handler <function add_generate_presigned_url at 0x7fde66c04790>
2026-01-08 01:32:13,930 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_service
2026-01-08 01:32:13,930 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_global
2026-01-08 01:32:13,930 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_service
2026-01-08 01:32:13,930 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_global
2026-01-08 01:32:13,930 - botocore.configprovider - DEBUG - No configured endpoint found.
2026-01-08 01:32:13,930 - botocore.regions - DEBUG - Creating a regex based endpoint for bedrock-agentcore, us-west-2
2026-01-08 01:32:13,932 - botocore.endpoint - DEBUG - Setting bedrock-agentcore timeout as (60, 900)
2026-01-08 01:32:13,933 - botocore.hooks - DEBUG - Event creating-serializer.bedrock-agentcore: calling handler <function enable_millisecond_timestamp_precision at 0x7fde66a99510>
2026-01-08 01:32:13,934 - botocore.loaders - DEBUG - Loading JSON file: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/data/_retry.json
2026-01-08 01:32:13,934 - botocore.client - DEBUG - Registering retry handlers for service: bedrock-agentcore
2026-01-08 01:32:13,935 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function generate_idempotent_uuid at 0x7fde66c87490>
2026-01-08 01:32:13,935 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _handle_request_validation_mode_member at 0x7fde66a99c60>
2026-01-08 01:32:13,935 - botocore.regions - DEBUG - Calling endpoint provider with parameters: {'Region': 'us-west-2', 'UseDualStack': False, 'UseFIPS': False}
2026-01-08 01:32:13,936 - botocore.regions - DEBUG - Endpoint provider result: https://bedrock-agentcore.us-west-2.amazonaws.com
2026-01-08 01:32:13,936 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_recursion_detection_header at 0x7fde66c87010>
2026-01-08 01:32:13,936 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function inject_api_version_header_if_needed at 0x7fde66a98d30>
2026-01-08 01:32:13,936 - botocore.endpoint - DEBUG - Making request for OperationModel(name=InvokeAgentRuntime) with params: {'url_path': '/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'query_string': {}, 'method': 'POST', 'headers': {'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': 'sleep-test-1767835933-1767835933935154', 'User-Agent': 'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,g,b,D cfg/retry-mode#legacy Botocore/1.42.24'}, 'body': b'{"duration_seconds": 290, "test_type": "sleep_test", "message": "Testing 290s sleep duration"}', 'url': 'https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'context': {'client_region': 'us-west-2', 'client_config': <botocore.config.Config object at 0x7fde668bc6d0>, 'has_streaming_input': True, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2026-01-08 01:32:13,937 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde668bc520>>
2026-01-08 01:32:13,937 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 01:32:13,937 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 01:32:13,938 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 01:32:13,938 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T013213Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767835933-1767835933935154

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
1d003876f96ecfb362255bcb3372bf4c4ef58e6b5408120f6841b603b701aa26
2026-01-08 01:32:13,938 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T013213Z
20260108/us-west-2/bedrock-agentcore/aws4_request
2179cbf3f398a8bbef6a994a6ba94d9ebd9669b91bd15dffbc37345a2acd399e
2026-01-08 01:32:13,938 - botocore.auth - DEBUG - Signature:
07a633ae134a815dcbf3de176e074ed77cf1bb011563539fe8447f88ad456e0d
2026-01-08 01:32:13,938 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde668bd780>>
2026-01-08 01:32:13,938 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 01:32:13,938 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767835933-1767835933935154', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,g,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T013213Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=07a633ae134a815dcbf3de176e074ed77cf1bb011563539fe8447f88ad456e0d', 'amz-sdk-invocation-id': b'6d389e5b-96e6-40d9-933b-92ff098da37a', 'amz-sdk-request': b'attempt=1', 'Content-Length': '94'}>
2026-01-08 01:32:13,939 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 01:32:13,939 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 01:36:59,885 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde668bdc60>
2026-01-08 01:36:59,885 - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 465, in send
    urllib_response = conn.urlopen(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/retry.py", line 465, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 307, in _should_retry
    return self._checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 363, in __call__
    checker_response = checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 247, in __call__
    return self._check_caught_exception(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 416, in _check_caught_exception
    raise caught_exception
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 279, in _do_get_response
    http_response = self._send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 383, in _send
    return self.http_session.send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 504, in send
    raise ConnectionClosedError(
botocore.exceptions.ConnectionClosedError: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
2026-01-08 01:36:59,936 - botocore.retryhandler - DEBUG - Retry needed, action of: 0.1762106777478185
2026-01-08 01:36:59,937 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.1762106777478185 seconds
2026-01-08 01:37:00,113 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde668bc520>>
2026-01-08 01:37:00,113 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 01:37:00,113 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 01:37:00,114 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 01:37:00,114 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T013700Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767835933-1767835933935154

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
1d003876f96ecfb362255bcb3372bf4c4ef58e6b5408120f6841b603b701aa26
2026-01-08 01:37:00,114 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T013700Z
20260108/us-west-2/bedrock-agentcore/aws4_request
58a8705da88fe91c2e89a43ae4a33140bacb250bde4987d725ebb20142d7a1d6
2026-01-08 01:37:00,114 - botocore.auth - DEBUG - Signature:
d90313aa50567cdf51bd9f0514a8aa9415e1de645e39d49ee7055a701d9c2283
2026-01-08 01:37:00,114 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde668bd780>>
2026-01-08 01:37:00,115 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 01:37:00,115 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767835933-1767835933935154', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,g,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T013700Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=d90313aa50567cdf51bd9f0514a8aa9415e1de645e39d49ee7055a701d9c2283', 'amz-sdk-invocation-id': b'6d389e5b-96e6-40d9-933b-92ff098da37a', 'amz-sdk-request': b'attempt=2; max=2', 'Content-Length': '94'}>
2026-01-08 01:37:00,115 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 01:37:00,116 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (2): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 01:41:45,966 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde668bdc60>
2026-01-08 01:41:50,972 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fde66c85c60>
2026-01-08 01:41:50,973 - botocore.hooks - DEBUG - Event creating-client-class.bedrock-agentcore: calling handler <function add_generate_presigned_url at 0x7fde66c04790>
2026-01-08 01:41:50,973 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_service
2026-01-08 01:41:50,973 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_global
2026-01-08 01:41:50,973 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_service
2026-01-08 01:41:50,973 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_global
2026-01-08 01:41:50,973 - botocore.configprovider - DEBUG - No configured endpoint found.
2026-01-08 01:41:50,973 - botocore.regions - DEBUG - Creating a regex based endpoint for bedrock-agentcore, us-west-2
2026-01-08 01:41:50,986 - botocore.endpoint - DEBUG - Setting bedrock-agentcore timeout as (60, 900)
2026-01-08 01:41:50,986 - botocore.hooks - DEBUG - Event creating-serializer.bedrock-agentcore: calling handler <function enable_millisecond_timestamp_precision at 0x7fde66a99510>
2026-01-08 01:41:50,987 - botocore.client - DEBUG - Registering retry handlers for service: bedrock-agentcore
2026-01-08 01:41:50,987 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function generate_idempotent_uuid at 0x7fde66c87490>
2026-01-08 01:41:50,987 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _handle_request_validation_mode_member at 0x7fde66a99c60>
2026-01-08 01:41:50,988 - botocore.regions - DEBUG - Calling endpoint provider with parameters: {'Region': 'us-west-2', 'UseDualStack': False, 'UseFIPS': False}
2026-01-08 01:41:50,988 - botocore.regions - DEBUG - Endpoint provider result: https://bedrock-agentcore.us-west-2.amazonaws.com
2026-01-08 01:41:50,988 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_recursion_detection_header at 0x7fde66c87010>
2026-01-08 01:41:50,988 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function inject_api_version_header_if_needed at 0x7fde66a98d30>
2026-01-08 01:41:50,988 - botocore.endpoint - DEBUG - Making request for OperationModel(name=InvokeAgentRuntime) with params: {'url_path': '/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'query_string': {}, 'method': 'POST', 'headers': {'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': 'sleep-test-1767836510-1767836510987631', 'User-Agent': 'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24'}, 'body': b'{"duration_seconds": 292, "test_type": "sleep_test", "message": "Testing 292s sleep duration"}', 'url': 'https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'context': {'client_region': 'us-west-2', 'client_config': <botocore.config.Config object at 0x7fde67261750>, 'has_streaming_input': True, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2026-01-08 01:41:50,989 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde68156e60>>
2026-01-08 01:41:50,989 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 01:41:50,989 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 01:41:50,989 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 01:41:50,989 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T014150Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767836510-1767836510987631

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
0eef6d706c25bc616a95c50d70fc2c869284e949ce21001897af036e2d3967fe
2026-01-08 01:41:50,989 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T014150Z
20260108/us-west-2/bedrock-agentcore/aws4_request
b383a3ad306c5abb8c05c4b45e8b3ca034d93ac42795c09e22a67bd658db24d9
2026-01-08 01:41:50,989 - botocore.auth - DEBUG - Signature:
e911ed4d40128527ccc2828872cb9ed4bc1d8fb4ae8bac0481a41fa5cd04f960
2026-01-08 01:41:50,989 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde668bdae0>>
2026-01-08 01:41:50,990 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 01:41:50,990 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767836510-1767836510987631', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T014150Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=e911ed4d40128527ccc2828872cb9ed4bc1d8fb4ae8bac0481a41fa5cd04f960', 'amz-sdk-invocation-id': b'16450573-4584-4172-813e-a4bb60af1057', 'amz-sdk-request': b'attempt=1', 'Content-Length': '94'}>
2026-01-08 01:41:50,990 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 01:41:50,990 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 01:46:36,891 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde668be950>
2026-01-08 01:46:36,891 - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 465, in send
    urllib_response = conn.urlopen(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/retry.py", line 465, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 307, in _should_retry
    return self._checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 363, in __call__
    checker_response = checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 247, in __call__
    return self._check_caught_exception(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 416, in _check_caught_exception
    raise caught_exception
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 279, in _do_get_response
    http_response = self._send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 383, in _send
    return self.http_session.send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 504, in send
    raise ConnectionClosedError(
botocore.exceptions.ConnectionClosedError: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
2026-01-08 01:46:36,891 - botocore.retryhandler - DEBUG - Retry needed, action of: 0.5767932077176474
2026-01-08 01:46:36,891 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.5767932077176474 seconds
2026-01-08 01:46:37,469 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde68156e60>>
2026-01-08 01:46:37,469 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 01:46:37,469 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 01:46:37,470 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 01:46:37,470 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T014637Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767836510-1767836510987631

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
0eef6d706c25bc616a95c50d70fc2c869284e949ce21001897af036e2d3967fe
2026-01-08 01:46:37,470 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T014637Z
20260108/us-west-2/bedrock-agentcore/aws4_request
bee9f4584a72ee49b2972197ee8a29e367cf6e14a35ef68f26db387816646479
2026-01-08 01:46:37,470 - botocore.auth - DEBUG - Signature:
c5074363c04fffde1a6738294e1343e107e5d7643f7d0ed28b756cef9f3dae72
2026-01-08 01:46:37,470 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde668bdae0>>
2026-01-08 01:46:37,470 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 01:46:37,471 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767836510-1767836510987631', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T014637Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=c5074363c04fffde1a6738294e1343e107e5d7643f7d0ed28b756cef9f3dae72', 'amz-sdk-invocation-id': b'16450573-4584-4172-813e-a4bb60af1057', 'amz-sdk-request': b'attempt=2; max=2', 'Content-Length': '94'}>
2026-01-08 01:46:37,471 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 01:46:37,472 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (2): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 01:51:23,570 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde668be950>
2026-01-08 01:51:28,576 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fde66c85c60>
2026-01-08 01:51:28,578 - botocore.hooks - DEBUG - Event creating-client-class.bedrock-agentcore: calling handler <function add_generate_presigned_url at 0x7fde66c04790>
2026-01-08 01:51:28,578 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_service
2026-01-08 01:51:28,579 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_global
2026-01-08 01:51:28,579 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_service
2026-01-08 01:51:28,579 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_global
2026-01-08 01:51:28,579 - botocore.configprovider - DEBUG - No configured endpoint found.
2026-01-08 01:51:28,579 - botocore.regions - DEBUG - Creating a regex based endpoint for bedrock-agentcore, us-west-2
2026-01-08 01:51:28,580 - botocore.endpoint - DEBUG - Setting bedrock-agentcore timeout as (60, 900)
2026-01-08 01:51:28,581 - botocore.hooks - DEBUG - Event creating-serializer.bedrock-agentcore: calling handler <function enable_millisecond_timestamp_precision at 0x7fde66a99510>
2026-01-08 01:51:28,582 - botocore.client - DEBUG - Registering retry handlers for service: bedrock-agentcore
2026-01-08 01:51:28,582 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function generate_idempotent_uuid at 0x7fde66c87490>
2026-01-08 01:51:28,583 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _handle_request_validation_mode_member at 0x7fde66a99c60>
2026-01-08 01:51:28,583 - botocore.regions - DEBUG - Calling endpoint provider with parameters: {'Region': 'us-west-2', 'UseDualStack': False, 'UseFIPS': False}
2026-01-08 01:51:28,583 - botocore.regions - DEBUG - Endpoint provider result: https://bedrock-agentcore.us-west-2.amazonaws.com
2026-01-08 01:51:28,583 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_recursion_detection_header at 0x7fde66c87010>
2026-01-08 01:51:28,583 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function inject_api_version_header_if_needed at 0x7fde66a98d30>
2026-01-08 01:51:28,584 - botocore.endpoint - DEBUG - Making request for OperationModel(name=InvokeAgentRuntime) with params: {'url_path': '/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'query_string': {}, 'method': 'POST', 'headers': {'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': 'sleep-test-1767837088-1767837088582682', 'User-Agent': 'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24'}, 'body': b'{"duration_seconds": 295, "test_type": "sleep_test", "message": "Testing 295s sleep duration"}', 'url': 'https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'context': {'client_region': 'us-west-2', 'client_config': <botocore.config.Config object at 0x7fde668bfeb0>, 'has_streaming_input': True, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2026-01-08 01:51:28,584 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde668bfdc0>>
2026-01-08 01:51:28,584 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 01:51:28,584 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 01:51:28,585 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 01:51:28,585 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T015128Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767837088-1767837088582682

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
caf13a8b59e55b04f0164ab35209796032d5210127615817cd5e7e010744d7c7
2026-01-08 01:51:28,585 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T015128Z
20260108/us-west-2/bedrock-agentcore/aws4_request
9af774b24d779fee5e9c68fa57916a3190f8081b140cb8cc7a27eb9e0eaa504f
2026-01-08 01:51:28,585 - botocore.auth - DEBUG - Signature:
648f8627f6bbade256468fb540e03cc8c2ff2fdbbb2b2c5797f4bfabc1ccbf27
2026-01-08 01:51:28,585 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde66b43fd0>>
2026-01-08 01:51:28,585 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 01:51:28,585 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767837088-1767837088582682', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T015128Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=648f8627f6bbade256468fb540e03cc8c2ff2fdbbb2b2c5797f4bfabc1ccbf27', 'amz-sdk-invocation-id': b'da3bc505-8acf-4486-82d2-57125c9e2a79', 'amz-sdk-request': b'attempt=1', 'Content-Length': '94'}>
2026-01-08 01:51:28,586 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 01:51:28,586 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 01:56:14,318 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde66b43880>
2026-01-08 01:56:14,319 - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 465, in send
    urllib_response = conn.urlopen(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/retry.py", line 465, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 307, in _should_retry
    return self._checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 363, in __call__
    checker_response = checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 247, in __call__
    return self._check_caught_exception(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 416, in _check_caught_exception
    raise caught_exception
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 279, in _do_get_response
    http_response = self._send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 383, in _send
    return self.http_session.send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 504, in send
    raise ConnectionClosedError(
botocore.exceptions.ConnectionClosedError: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
2026-01-08 01:56:14,319 - botocore.retryhandler - DEBUG - Retry needed, action of: 0.47761770432967887
2026-01-08 01:56:14,320 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.47761770432967887 seconds
2026-01-08 01:56:14,798 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde668bfdc0>>
2026-01-08 01:56:14,798 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 01:56:14,798 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 01:56:14,799 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 01:56:14,799 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T015614Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767837088-1767837088582682

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
caf13a8b59e55b04f0164ab35209796032d5210127615817cd5e7e010744d7c7
2026-01-08 01:56:14,799 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T015614Z
20260108/us-west-2/bedrock-agentcore/aws4_request
11595aab43f3bb7511a6bf17fb082aa878b82113b28747d33e8605afe01c5cee
2026-01-08 01:56:14,799 - botocore.auth - DEBUG - Signature:
1bf532091b00669efea705d0e5ca67a2ae2e4e69bb356c445a8ff2ff603f20f1
2026-01-08 01:56:14,799 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde66b43fd0>>
2026-01-08 01:56:14,799 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 01:56:14,799 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767837088-1767837088582682', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T015614Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=1bf532091b00669efea705d0e5ca67a2ae2e4e69bb356c445a8ff2ff603f20f1', 'amz-sdk-invocation-id': b'da3bc505-8acf-4486-82d2-57125c9e2a79', 'amz-sdk-request': b'attempt=2; max=2', 'Content-Length': '94'}>
2026-01-08 01:56:14,800 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 01:56:14,800 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (2): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 02:01:00,754 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde66b43880>
2026-01-08 02:01:05,756 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fde66c85c60>
2026-01-08 02:01:05,756 - botocore.hooks - DEBUG - Event creating-client-class.bedrock-agentcore: calling handler <function add_generate_presigned_url at 0x7fde66c04790>
2026-01-08 02:01:05,757 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_service
2026-01-08 02:01:05,757 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_global
2026-01-08 02:01:05,757 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_service
2026-01-08 02:01:05,757 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_global
2026-01-08 02:01:05,757 - botocore.configprovider - DEBUG - No configured endpoint found.
2026-01-08 02:01:05,757 - botocore.regions - DEBUG - Creating a regex based endpoint for bedrock-agentcore, us-west-2
2026-01-08 02:01:05,759 - botocore.endpoint - DEBUG - Setting bedrock-agentcore timeout as (60, 900)
2026-01-08 02:01:05,760 - botocore.hooks - DEBUG - Event creating-serializer.bedrock-agentcore: calling handler <function enable_millisecond_timestamp_precision at 0x7fde66a99510>
2026-01-08 02:01:05,761 - botocore.client - DEBUG - Registering retry handlers for service: bedrock-agentcore
2026-01-08 02:01:05,761 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function generate_idempotent_uuid at 0x7fde66c87490>
2026-01-08 02:01:05,761 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _handle_request_validation_mode_member at 0x7fde66a99c60>
2026-01-08 02:01:05,762 - botocore.regions - DEBUG - Calling endpoint provider with parameters: {'Region': 'us-west-2', 'UseDualStack': False, 'UseFIPS': False}
2026-01-08 02:01:05,762 - botocore.regions - DEBUG - Endpoint provider result: https://bedrock-agentcore.us-west-2.amazonaws.com
2026-01-08 02:01:05,762 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_recursion_detection_header at 0x7fde66c87010>
2026-01-08 02:01:05,762 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function inject_api_version_header_if_needed at 0x7fde66a98d30>
2026-01-08 02:01:05,762 - botocore.endpoint - DEBUG - Making request for OperationModel(name=InvokeAgentRuntime) with params: {'url_path': '/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'query_string': {}, 'method': 'POST', 'headers': {'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': 'sleep-test-1767837665-1767837665761507', 'User-Agent': 'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24'}, 'body': b'{"duration_seconds": 297, "test_type": "sleep_test", "message": "Testing 297s sleep duration"}', 'url': 'https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'context': {'client_region': 'us-west-2', 'client_config': <botocore.config.Config object at 0x7fde668bfe20>, 'has_streaming_input': True, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2026-01-08 02:01:05,763 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde668bfca0>>
2026-01-08 02:01:05,763 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 02:01:05,763 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 02:01:05,763 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 02:01:05,763 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T020105Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767837665-1767837665761507

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
abb6e1a9cd636f1c466320a0e9a4fffd04caff4647d7aa8807f387c317dc19b6
2026-01-08 02:01:05,763 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T020105Z
20260108/us-west-2/bedrock-agentcore/aws4_request
75ca6813a2644895bf0bc8a6d1c17e775746fba847cd356c922edec31e3053d9
2026-01-08 02:01:05,763 - botocore.auth - DEBUG - Signature:
146af5695218cbfa3e794bda3e7f689409828de32d3020567feda7e785ca5d46
2026-01-08 02:01:05,764 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde65f46380>>
2026-01-08 02:01:05,764 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 02:01:05,764 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767837665-1767837665761507', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T020105Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=146af5695218cbfa3e794bda3e7f689409828de32d3020567feda7e785ca5d46', 'amz-sdk-invocation-id': b'146c0770-c8f7-4326-afd4-39f784b9940e', 'amz-sdk-request': b'attempt=1', 'Content-Length': '94'}>
2026-01-08 02:01:05,764 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 02:01:05,765 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 02:05:51,625 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde66b43dc0>
2026-01-08 02:05:51,625 - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 465, in send
    urllib_response = conn.urlopen(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/retry.py", line 465, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 307, in _should_retry
    return self._checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 363, in __call__
    checker_response = checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 247, in __call__
    return self._check_caught_exception(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 416, in _check_caught_exception
    raise caught_exception
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 279, in _do_get_response
    http_response = self._send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 383, in _send
    return self.http_session.send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 504, in send
    raise ConnectionClosedError(
botocore.exceptions.ConnectionClosedError: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
2026-01-08 02:05:51,626 - botocore.retryhandler - DEBUG - Retry needed, action of: 0.6435121575987189
2026-01-08 02:05:51,626 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.6435121575987189 seconds
2026-01-08 02:05:52,270 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde668bfca0>>
2026-01-08 02:05:52,270 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 02:05:52,270 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 02:05:52,271 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 02:05:52,271 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T020552Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767837665-1767837665761507

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
abb6e1a9cd636f1c466320a0e9a4fffd04caff4647d7aa8807f387c317dc19b6
2026-01-08 02:05:52,271 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T020552Z
20260108/us-west-2/bedrock-agentcore/aws4_request
888a9cf0d97aa0d486b08e49fae095d70b9908fa87547eaa6514468280c04321
2026-01-08 02:05:52,271 - botocore.auth - DEBUG - Signature:
249caebaca932df60edb2b86ca90d2f9c848557d729072aebb615180f1d42c95
2026-01-08 02:05:52,271 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde65f46380>>
2026-01-08 02:05:52,271 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 02:05:52,272 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767837665-1767837665761507', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T020552Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=249caebaca932df60edb2b86ca90d2f9c848557d729072aebb615180f1d42c95', 'amz-sdk-invocation-id': b'146c0770-c8f7-4326-afd4-39f784b9940e', 'amz-sdk-request': b'attempt=2; max=2', 'Content-Length': '94'}>
2026-01-08 02:05:52,272 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 02:05:52,273 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (2): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 02:10:38,278 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde66b43dc0>
2026-01-08 02:10:43,284 - botocore.hooks - DEBUG - Event choose-service-name: calling handler <function handle_service_name_alias at 0x7fde66c85c60>
2026-01-08 02:10:43,286 - botocore.hooks - DEBUG - Event creating-client-class.bedrock-agentcore: calling handler <function add_generate_presigned_url at 0x7fde66c04790>
2026-01-08 02:10:43,286 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_service
2026-01-08 02:10:43,286 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: environment_global
2026-01-08 02:10:43,286 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_service
2026-01-08 02:10:43,286 - botocore.configprovider - DEBUG - Looking for endpoint for bedrock-agentcore via: config_global
2026-01-08 02:10:43,286 - botocore.configprovider - DEBUG - No configured endpoint found.
2026-01-08 02:10:43,287 - botocore.regions - DEBUG - Creating a regex based endpoint for bedrock-agentcore, us-west-2
2026-01-08 02:10:43,288 - botocore.endpoint - DEBUG - Setting bedrock-agentcore timeout as (60, 900)
2026-01-08 02:10:43,288 - botocore.hooks - DEBUG - Event creating-serializer.bedrock-agentcore: calling handler <function enable_millisecond_timestamp_precision at 0x7fde66a99510>
2026-01-08 02:10:43,289 - botocore.client - DEBUG - Registering retry handlers for service: bedrock-agentcore
2026-01-08 02:10:43,290 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function generate_idempotent_uuid at 0x7fde66c87490>
2026-01-08 02:10:43,290 - botocore.hooks - DEBUG - Event before-parameter-build.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _handle_request_validation_mode_member at 0x7fde66a99c60>
2026-01-08 02:10:43,290 - botocore.regions - DEBUG - Calling endpoint provider with parameters: {'Region': 'us-west-2', 'UseDualStack': False, 'UseFIPS': False}
2026-01-08 02:10:43,290 - botocore.regions - DEBUG - Endpoint provider result: https://bedrock-agentcore.us-west-2.amazonaws.com
2026-01-08 02:10:43,291 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_recursion_detection_header at 0x7fde66c87010>
2026-01-08 02:10:43,291 - botocore.hooks - DEBUG - Event before-call.bedrock-agentcore.InvokeAgentRuntime: calling handler <function inject_api_version_header_if_needed at 0x7fde66a98d30>
2026-01-08 02:10:43,291 - botocore.endpoint - DEBUG - Making request for OperationModel(name=InvokeAgentRuntime) with params: {'url_path': '/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'query_string': {}, 'method': 'POST', 'headers': {'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': 'sleep-test-1767838243-1767838243289949', 'User-Agent': 'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24'}, 'body': b'{"duration_seconds": 300, "test_type": "sleep_test", "message": "Testing 300s sleep duration"}', 'url': 'https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations', 'context': {'client_region': 'us-west-2', 'client_config': <botocore.config.Config object at 0x7fde66b43c70>, 'has_streaming_input': True, 'auth_type': None, 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4']}}
2026-01-08 02:10:43,291 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde66b43d60>>
2026-01-08 02:10:43,291 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 02:10:43,291 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 02:10:43,292 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 02:10:43,292 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T021043Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767838243-1767838243289949

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
744369b88c0f3fe343444e397c2a364c1a7c1fc6821968160c61c8e07af4cfea
2026-01-08 02:10:43,292 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T021043Z
20260108/us-west-2/bedrock-agentcore/aws4_request
d52dfdef523f48421ac33e63fc410a0513ebfc0370582f07ef5e0960f4019a69
2026-01-08 02:10:43,292 - botocore.auth - DEBUG - Signature:
b4ccb776fd0cd84cfa9b42f6f10dcdf24c2cadab81de2aff7b786ce79a3cb692
2026-01-08 02:10:43,292 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde668bfc10>>
2026-01-08 02:10:43,292 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 02:10:43,292 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767838243-1767838243289949', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T021043Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=b4ccb776fd0cd84cfa9b42f6f10dcdf24c2cadab81de2aff7b786ce79a3cb692', 'amz-sdk-invocation-id': b'61e9596a-2273-4fe8-8e5d-f7bbf7706d5b', 'amz-sdk-request': b'attempt=1', 'Content-Length': '94'}>
2026-01-08 02:10:43,292 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 02:10:43,293 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 02:15:29,286 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde65f68c40>
2026-01-08 02:15:29,286 - botocore.retryhandler - DEBUG - retry needed, retryable exception caught: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 465, in send
    urllib_response = conn.urlopen(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/retry.py", line 465, in increment
    raise reraise(type(error), error, _stacktrace)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/util/util.py", line 38, in reraise
    raise value.with_traceback(tb)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connectionpool.py", line 534, in _make_request
    response = conn.getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/urllib3/connection.py", line 571, in getresponse
    httplib_response = super().getresponse()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
urllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 307, in _should_retry
    return self._checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 363, in __call__
    checker_response = checker(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 247, in __call__
    return self._check_caught_exception(
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/retryhandler.py", line 416, in _check_caught_exception
    raise caught_exception
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 279, in _do_get_response
    http_response = self._send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/endpoint.py", line 383, in _send
    return self.http_session.send(request)
  File "/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/httpsession.py", line 504, in send
    raise ConnectionClosedError(
botocore.exceptions.ConnectionClosedError: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
2026-01-08 02:15:29,286 - botocore.retryhandler - DEBUG - Retry needed, action of: 0.640417690171737
2026-01-08 02:15:29,286 - botocore.endpoint - DEBUG - Response received to retry, sleeping for 0.640417690171737 seconds
2026-01-08 02:15:29,928 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x7fde66b43d60>>
2026-01-08 02:15:29,928 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function set_operation_specific_signer at 0x7fde66c87250>
2026-01-08 02:15:29,928 - botocore.hooks - DEBUG - Event choose-signer.bedrock-agentcore.InvokeAgentRuntime: calling handler <function _set_auth_scheme_preference_signer at 0x7fde66a99d80>
2026-01-08 02:15:29,928 - botocore.auth - DEBUG - Calculating signature using v4 auth.
2026-01-08 02:15:29,928 - botocore.auth - DEBUG - CanonicalRequest:
POST
/runtimes/arn%253Aaws%253Abedrock-agentcore%253Aus-west-2%253A724772064768%253Aruntime%252Fsleep_agent-kFTzKmC01Y/invocations

host:bedrock-agentcore.us-west-2.amazonaws.com
x-amz-date:20260108T021529Z
x-amz-security-token:***
x-amzn-bedrock-agentcore-runtime-session-id:sleep-test-1767838243-1767838243289949

host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id
744369b88c0f3fe343444e397c2a364c1a7c1fc6821968160c61c8e07af4cfea
2026-01-08 02:15:29,929 - botocore.auth - DEBUG - StringToSign:
AWS4-HMAC-SHA256
20260108T021529Z
20260108/us-west-2/bedrock-agentcore/aws4_request
e84a63d3240e69fdb008dc82dfa97fe9591d0cd5fab815e2f3efa1cebd4df41a
2026-01-08 02:15:29,929 - botocore.auth - DEBUG - Signature:
d5df4a4c936b1e5099b627d91c271071d5a08a087dbd67def64e1f2e25e851f4
2026-01-08 02:15:29,929 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x7fde668bfc10>>
2026-01-08 02:15:29,929 - botocore.hooks - DEBUG - Event request-created.bedrock-agentcore.InvokeAgentRuntime: calling handler <function add_retry_headers at 0x7fde66a995a0>
2026-01-08 02:15:29,929 - botocore.endpoint - DEBUG - Sending http request: <AWSPreparedRequest stream_output=True, method=POST, url=https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations, headers={'X-Amzn-Bedrock-AgentCore-Runtime-Session-Id': b'sleep-test-1767838243-1767838243289949', 'User-Agent': b'Boto3/1.42.24 md/Botocore#1.42.24 ua/2.1 os/linux#6.11.0-1018-azure md/arch#x86_64 lang/python#3.10.19 md/pyimpl#CPython m/Z,b,D cfg/retry-mode#legacy Botocore/1.42.24', 'X-Amz-Date': b'20260108T021529Z', 'X-Amz-Security-Token': b'***', 'Authorization': b'AWS4-HMAC-SHA256 Credential=***/20260108/us-west-2/bedrock-agentcore/aws4_request, SignedHeaders=host;x-amz-date;x-amz-security-token;x-amzn-bedrock-agentcore-runtime-session-id, Signature=d5df4a4c936b1e5099b627d91c271071d5a08a087dbd67def64e1f2e25e851f4', 'amz-sdk-invocation-id': b'61e9596a-2273-4fe8-8e5d-f7bbf7706d5b', 'amz-sdk-request': b'attempt=2; max=2', 'Content-Length': '94'}>
2026-01-08 02:15:29,929 - botocore.httpsession - DEBUG - Certificate path: /opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/botocore/cacert.pem
2026-01-08 02:15:29,930 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (2): bedrock-agentcore.us-west-2.amazonaws.com:443
2026-01-08 02:20:16,135 - botocore.hooks - DEBUG - Event needs-retry.bedrock-agentcore.InvokeAgentRuntime: calling handler <botocore.retryhandler.RetryHandler object at 0x7fde65f68c40>
============================================================
 SLEEP AGENT TEST: 290s duration
 Session ID: sleep-test-1767835933-1767835933935154
  Expected: 290 second sleep

 Starting invoke at 01:32:13
 FAILURE after 572.0 seconds: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
============================================================

  Waiting 5 seconds before next test...
============================================================
 SLEEP AGENT TEST: 292s duration
 Session ID: sleep-test-1767836510-1767836510987631
  Expected: 292 second sleep

 Starting invoke at 01:41:50
 FAILURE after 572.6 seconds: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
============================================================

  Waiting 5 seconds before next test...
============================================================
 SLEEP AGENT TEST: 295s duration
 Session ID: sleep-test-1767837088-1767837088582682
  Expected: 295 second sleep

 Starting invoke at 01:51:28
 FAILURE after 572.2 seconds: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
============================================================

  Waiting 5 seconds before next test...
============================================================
 SLEEP AGENT TEST: 297s duration
 Session ID: sleep-test-1767837665-1767837665761507
  Expected: 297 second sleep

 Starting invoke at 02:01:05
 FAILURE after 572.5 seconds: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
============================================================

  Waiting 5 seconds before next test...
============================================================
 SLEEP AGENT TEST: 300s duration
 Session ID: sleep-test-1767838243-1767838243289949
  Expected: 300 second sleep

 Starting invoke at 02:10:43
 FAILURE after 572.8 seconds: Connection was closed before we received a valid response from endpoint URL: "https://bedrock-agentcore.us-west-2.amazonaws.com/runtimes/arn%3Aaws%3Abedrock-agentcore%3Aus-west-2%3A724772064768%3Aruntime%2Fsleep_agent-kFTzKmC01Y/invocations".
============================================================
